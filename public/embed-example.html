<!doctype html>

<main>
  <h3>Search bar, using links, light theme</h3>
  <iframe
    src="/?embed&placeholder=Search the AI safety FAQ&theme=light"
    id="ai-safety-search-iframe1"
    height="65px"
  ></iframe>

  <h3>Only initial questions, using links, system default theme</h3>
  <iframe
    src="/?embed&onlyInitial&placeholder=Search the AI safety FAQ"
    id="ai-safety-search-iframe2"
    height="250px"
  ></iframe>

  <h3>Both search and initial questions, opening inline, expanding iframe height, dark theme</h3>
  <iframe
    src="/?embed&showInitial&showDetails&placeholder=Search the AI safety FAQ&theme=dark"
    id="ai-safety-search-iframe3"
    height="315px"
  ></iframe>

  <script>
    'use strict'
    const iframes = [...document.querySelectorAll('iframe')]
    window.addEventListener('message', function (event) {
      if (event.data.type === 'aisafety.info__height') {
        const iframe = event.source.frameElement
        if (iframe) {
          iframe.style.height = event.data.height + 'px'
        }
      }
    })
  </script>

  <style>
    body {
      font-family: sans-serif;
      overflow: scroll;
    }

    iframe {
      transition: height 0.3s;
      overflow: hidden;
      width: 100%;
      border: none;
    }
  </style>
</main>

<h3>Source code:</h3>
<pre id="source"></pre>
<script>
  'use strict'
  const source = document.getElementById('source')
  const main = document.querySelector('main').innerHTML
  source.textContent = main
    .replace(/&amp;/g, '&')
    .replace(/src="\//g, 'src="https://aisafety.info/')
</script>
